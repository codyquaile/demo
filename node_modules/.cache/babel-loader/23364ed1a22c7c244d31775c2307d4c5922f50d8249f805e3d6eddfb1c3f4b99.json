{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\codyq\\\\Downloads\\\\cursor test\\\\src\\\\components\\\\CustomCalendar.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PROVIDERS = [{\n  id: 1,\n  name: 'Provider 1'\n}, {\n  id: 2,\n  name: 'Provider 2'\n}, {\n  id: 3,\n  name: 'Provider 3'\n}];\nconst APPOINTMENT_TYPES = [{\n  key: 'hormone',\n  label: 'Hormone'\n}, {\n  key: 'sexual',\n  label: 'Sexual Medicine'\n}, {\n  key: 'weightloss',\n  label: 'Weight Loss'\n}];\nconst BUSINESS_HOURS = {\n  start: 9,\n  end: 17\n}; // 9am-5pm\nconst SLOT_INTERVAL = 30; // minutes\nconst EST_OFFSET = -4; // For demonstration, not for production\n\n// Card type detection logic\nconst CARD_TYPES = [{\n  name: 'Visa',\n  regex: /^4/,\n  logo: 'https://img.icons8.com/color/48/000000/visa.png',\n  format: [4, 4, 4, 4]\n}, {\n  name: 'Mastercard',\n  regex: /^5[1-5]/,\n  logo: 'https://img.icons8.com/color/48/000000/mastercard-logo.png',\n  format: [4, 4, 4, 4]\n}, {\n  name: 'Amex',\n  regex: /^3[47]/,\n  logo: 'https://img.icons8.com/color/48/000000/amex.png',\n  format: [4, 6, 5]\n}];\nfunction detectCardType(card) {\n  for (const type of CARD_TYPES) {\n    if (type.regex.test(card.replace(/\\D/g, ''))) return type;\n  }\n  return null;\n}\nfunction formatCardNumber(card, type) {\n  const digits = card.replace(/\\D/g, '');\n  if (!type) return digits.replace(/(.{4})/g, '$1 ').trim();\n  let parts = [];\n  let idx = 0;\n  for (const len of type.format) {\n    if (digits.length > idx) {\n      parts.push(digits.substr(idx, len));\n      idx += len;\n    }\n  }\n  return parts.join(' ').trim();\n}\nfunction getSlots(duration) {\n  const slots = [];\n  for (let hour = BUSINESS_HOURS.start; hour < BUSINESS_HOURS.end; hour++) {\n    for (let min = 0; min < 60; min += SLOT_INTERVAL) {\n      slots.push({\n        time: `${hour.toString().padStart(2, '0')}:${min.toString().padStart(2, '0')}`,\n        hour,\n        min\n      });\n    }\n  }\n  return slots;\n}\nfunction getMonthDays(year, month) {\n  const days = [];\n  const firstDay = new Date(year, month, 1);\n  const lastDay = new Date(year, month + 1, 0);\n  // Fill in blanks for the first week\n  for (let i = 0; i < firstDay.getDay(); i++) {\n    days.push(null);\n  }\n  for (let d = 1; d <= lastDay.getDate(); d++) {\n    days.push(new Date(year, month, d));\n  }\n  return days;\n}\nconst CustomCalendar = ({\n  userType,\n  appointmentType,\n  onBookingConfirmed\n}) => {\n  _s();\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [selectedProvider, setSelectedProvider] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [form, setForm] = useState({\n    firstName: '',\n    lastName: '',\n    address: '',\n    city: '',\n    state: '',\n    zipcode: '',\n    card: '',\n    expMonth: '',\n    expYear: '',\n    cvv: ''\n  });\n  const [bookingSuccess, setBookingSuccess] = useState(false);\n  const [month, setMonth] = useState(new Date().getMonth());\n  const [year, setYear] = useState(new Date().getFullYear());\n  const cardType = detectCardType(form.card);\n  const cardInputRef = useRef(null);\n\n  // Mocked provider logic\n  function getAvailableProviders(date, slot) {\n    const day = date.getDay(); // 0=Sun, 1=Mon, ...\n    if (userType === 'new') {\n      return [PROVIDERS[0]]; // Provider 1\n    }\n    if (appointmentType === 'hormone' || appointmentType === 'sexual') {\n      return [PROVIDERS[0]]; // Provider 1\n    }\n    if (appointmentType === 'weightloss') {\n      if (day === 2) return [PROVIDERS[1], PROVIDERS[2]]; // Tue: Provider 2 & 3\n      if (day === 4) return [PROVIDERS[2]]; // Thu: Provider 3\n      return []; // No providers other days\n    }\n    return [];\n  }\n  function handleSlotSelect(slot) {\n    setSelectedSlot(slot);\n    const providers = getAvailableProviders(selectedDate, slot);\n    if (providers.length === 1) {\n      setSelectedProvider(providers[0].id);\n      setShowModal(true);\n    } else if (providers.length > 1) {\n      setSelectedProvider(null);\n    }\n  }\n  function handleProviderSelect(id) {\n    setSelectedProvider(id);\n    setShowModal(true);\n  }\n  function handleConfirmBooking() {\n    setBookingSuccess(true);\n    setTimeout(() => {\n      onBookingConfirmed({\n        date: selectedDate,\n        slot: selectedSlot,\n        provider: selectedProvider,\n        form\n      });\n    }, 1000);\n  }\n\n  // Mocked slots\n  const duration = userType === 'new' ? 90 : 40;\n  const slots = getSlots(duration);\n  const days = getMonthDays(year, month);\n  const today = new Date();\n  function isPastDay(day) {\n    if (!day) return true;\n    return day.setHours(0, 0, 0, 0) < today.setHours(0, 0, 0, 0);\n  }\n  function nextMonth() {\n    if (month === 11) {\n      setMonth(0);\n      setYear(year + 1);\n    } else {\n      setMonth(month + 1);\n    }\n    setSelectedDate(null);\n    setSelectedSlot(null);\n  }\n  function prevMonth() {\n    if (month === 0) {\n      setMonth(11);\n      setYear(year - 1);\n    } else {\n      setMonth(month - 1);\n    }\n    setSelectedDate(null);\n    setSelectedSlot(null);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-lg mx-auto p-4 bg-white rounded-2xl shadow-2xl border border-gray-100 flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold mb-4 text-center text-gray-800\",\n      children: \"Select a Date and Time\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: prevMonth,\n        className: \"px-2 py-1 rounded hover:bg-gray-200\",\n        children: \"<\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-semibold\",\n        children: new Date(year, month).toLocaleString('en-US', {\n          month: 'long',\n          year: 'numeric'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: nextMonth,\n        className: \"px-2 py-1 rounded hover:bg-gray-200\",\n        children: \">\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-7 gap-1 mb-2 text-center text-xs text-gray-500\",\n      children: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: d\n      }, d, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 63\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-7 gap-1 mb-4\",\n      children: days.map((day, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: !day || isPastDay(day),\n        className: `aspect-square rounded-lg text-sm font-medium flex items-center justify-center\n              ${day && selectedDate && day.toDateString() === selectedDate.toDateString() ? 'bg-blue-200 text-blue-900' : 'bg-gray-100 text-gray-700'}\n              ${!day || isPastDay(day) ? 'opacity-40 cursor-not-allowed' : 'hover:bg-blue-100'}`,\n        onClick: () => day && !isPastDay(day) && setSelectedDate(day),\n        children: day ? day.getDate() : ''\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), selectedDate && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 text-center text-gray-700 font-semibold\",\n        children: \"Available Times\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 justify-center mb-4\",\n        children: slots.map((slot, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `px-3 py-2 rounded-lg text-sm font-medium ${selectedSlot === slot ? 'bg-blue-400 text-white' : 'bg-gray-100 text-gray-700'} hover:bg-blue-200`,\n          onClick: () => handleSlotSelect(slot),\n          children: slot.time\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), selectedDate && selectedSlot && getAvailableProviders(selectedDate, selectedSlot).length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 text-center text-gray-700 font-semibold\",\n        children: \"Select Provider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 justify-center\",\n        children: getAvailableProviders(selectedDate, selectedSlot).map(p => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `px-3 py-2 rounded-lg text-sm font-medium ${selectedProvider === p.id ? 'bg-blue-400 text-white' : 'bg-gray-100 text-gray-700'} hover:bg-blue-200`,\n          onClick: () => handleProviderSelect(p.id),\n          children: p.name\n        }, p.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl max-w-md mx-2 p-6 shadow-2xl border border-gray-100\",\n        children: userType === 'new' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold mb-2\",\n            children: \"Confirm Your Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\",\n              placeholder: \"First Name\",\n              value: form.firstName,\n              onChange: e => setForm(f => ({\n                ...f,\n                firstName: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `transition-all duration-300 overflow-hidden ${form.firstName ? 'max-h-32 opacity-100' : 'max-h-0 opacity-0'}`,\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition mt-2\",\n                placeholder: \"Last Name\",\n                value: form.lastName,\n                onChange: e => setForm(f => ({\n                  ...f,\n                  lastName: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\",\n              placeholder: \"Address (Start typing...)\",\n              value: form.address,\n              onChange: e => setForm(f => ({\n                ...f,\n                address: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\",\n              placeholder: \"City\",\n              value: form.city,\n              onChange: e => setForm(f => ({\n                ...f,\n                city: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\",\n              placeholder: \"State\",\n              value: form.state,\n              onChange: e => setForm(f => ({\n                ...f,\n                state: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\",\n              placeholder: \"Zipcode\",\n              value: form.zipcode,\n              onChange: e => setForm(f => ({\n                ...f,\n                zipcode: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2 font-semibold\",\n            children: \"Payment Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative mb-2\",\n            children: [cardType && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: cardType.logo,\n              alt: cardType.name,\n              className: \"absolute left-2 top-1/2 -translate-y-1/2 h-6 w-8 object-contain transition-all duration-300 opacity-100\",\n              style: {\n                animation: 'fadeInLeft 0.3s'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: cardInputRef,\n              className: `w-full rounded-lg shadow-sm pl-12 pr-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition font-mono tracking-widest`,\n              placeholder: \"Card Number\",\n              value: formatCardNumber(form.card, cardType),\n              onChange: e => {\n                const raw = e.target.value.replace(/\\D/g, '');\n                setForm(f => ({\n                  ...f,\n                  card: raw\n                }));\n              },\n              maxLength: cardType && cardType.name === 'Amex' ? 15 : 16,\n              inputMode: \"numeric\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"rounded-lg shadow-sm px-2 py-2 flex-1 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\",\n              value: form.expMonth,\n              onChange: e => setForm(f => ({\n                ...f,\n                expMonth: e.target.value\n              })),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"MM\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 21\n              }, this), [...Array(12)].map((_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: String(i + 1).padStart(2, '0'),\n                children: String(i + 1).padStart(2, '0')\n              }, i + 1, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"rounded-lg shadow-sm px-2 py-2 flex-1 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\",\n              value: form.expYear,\n              onChange: e => setForm(f => ({\n                ...f,\n                expYear: e.target.value\n              })),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"YYYY\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 21\n              }, this), [...Array(12)].map((_, i) => {\n                const year = new Date().getFullYear() + i;\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: year,\n                  children: year\n                }, year, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 30\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"rounded-lg shadow-sm px-4 py-2 flex-1 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\",\n              placeholder: \"CVV\",\n              value: form.cvv,\n              onChange: e => setForm(f => ({\n                ...f,\n                cvv: e.target.value\n              })),\n              maxLength: 4,\n              inputMode: \"numeric\",\n              type: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full py-2 bg-pink-200 hover:bg-pink-300 text-gray-800 rounded-lg font-semibold mt-2 transition active:scale-95 focus:scale-95 focus:ring-2 focus:ring-pink-300\",\n            onClick: handleConfirmBooking,\n            children: \"Confirm Booking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold mb-4\",\n            children: \"Confirm Card on File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full py-2 bg-pink-200 hover:bg-pink-300 text-gray-800 rounded-lg font-semibold mt-2 transition\",\n            onClick: handleConfirmBooking,\n            children: \"Confirm Booking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }, this), bookingSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-6 w-full max-w-sm shadow-xl text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold mb-2\",\n          children: \"Booking Confirmed!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-2\",\n          children: \"Your appointment has been booked.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full py-2 bg-pink-200 hover:bg-pink-300 text-gray-800 rounded-lg font-semibold mt-2 transition\",\n          onClick: () => setBookingSuccess(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        button:active, button:focus { outline: none; }\n        @keyframes fadeInLeft { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: none; } }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomCalendar, \"zxLsqE9Mb7LRvUJ/+qBdwiRfzWY=\");\n_c = CustomCalendar;\nexport default CustomCalendar;\nvar _c;\n$RefreshReg$(_c, \"CustomCalendar\");","map":{"version":3,"names":["React","useState","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","PROVIDERS","id","name","APPOINTMENT_TYPES","key","label","BUSINESS_HOURS","start","end","SLOT_INTERVAL","EST_OFFSET","CARD_TYPES","regex","logo","format","detectCardType","card","type","test","replace","formatCardNumber","digits","trim","parts","idx","len","length","push","substr","join","getSlots","duration","slots","hour","min","time","toString","padStart","getMonthDays","year","month","days","firstDay","Date","lastDay","i","getDay","d","getDate","CustomCalendar","userType","appointmentType","onBookingConfirmed","_s","selectedDate","setSelectedDate","selectedSlot","setSelectedSlot","selectedProvider","setSelectedProvider","showModal","setShowModal","form","setForm","firstName","lastName","address","city","state","zipcode","expMonth","expYear","cvv","bookingSuccess","setBookingSuccess","setMonth","getMonth","setYear","getFullYear","cardType","cardInputRef","getAvailableProviders","date","slot","day","handleSlotSelect","providers","handleProviderSelect","handleConfirmBooking","setTimeout","provider","today","isPastDay","setHours","nextMonth","prevMonth","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","toLocaleString","map","disabled","toDateString","p","placeholder","value","onChange","e","f","target","src","alt","style","animation","ref","raw","maxLength","inputMode","Array","_","String","_c","$RefreshReg$"],"sources":["C:/Users/codyq/Downloads/cursor test/src/components/CustomCalendar.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\n\r\nconst PROVIDERS = [\r\n  { id: 1, name: 'Provider 1' },\r\n  { id: 2, name: 'Provider 2' },\r\n  { id: 3, name: 'Provider 3' },\r\n];\r\n\r\nconst APPOINTMENT_TYPES = [\r\n  { key: 'hormone', label: 'Hormone' },\r\n  { key: 'sexual', label: 'Sexual Medicine' },\r\n  { key: 'weightloss', label: 'Weight Loss' },\r\n];\r\n\r\nconst BUSINESS_HOURS = { start: 9, end: 17 }; // 9am-5pm\r\nconst SLOT_INTERVAL = 30; // minutes\r\nconst EST_OFFSET = -4; // For demonstration, not for production\r\n\r\n// Card type detection logic\r\nconst CARD_TYPES = [\r\n  { name: 'Visa', regex: /^4/, logo: 'https://img.icons8.com/color/48/000000/visa.png', format: [4,4,4,4] },\r\n  { name: 'Mastercard', regex: /^5[1-5]/, logo: 'https://img.icons8.com/color/48/000000/mastercard-logo.png', format: [4,4,4,4] },\r\n  { name: 'Amex', regex: /^3[47]/, logo: 'https://img.icons8.com/color/48/000000/amex.png', format: [4,6,5] },\r\n];\r\n\r\nfunction detectCardType(card: string) {\r\n  for (const type of CARD_TYPES) {\r\n    if (type.regex.test(card.replace(/\\D/g, ''))) return type;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction formatCardNumber(card: string, type: any) {\r\n  const digits = card.replace(/\\D/g, '');\r\n  if (!type) return digits.replace(/(.{4})/g, '$1 ').trim();\r\n  let parts = [];\r\n  let idx = 0;\r\n  for (const len of type.format) {\r\n    if (digits.length > idx) {\r\n      parts.push(digits.substr(idx, len));\r\n      idx += len;\r\n    }\r\n  }\r\n  return parts.join(' ').trim();\r\n}\r\n\r\nfunction getSlots(duration: number) {\r\n  const slots = [];\r\n  for (let hour = BUSINESS_HOURS.start; hour < BUSINESS_HOURS.end; hour++) {\r\n    for (let min = 0; min < 60; min += SLOT_INTERVAL) {\r\n      slots.push({\r\n        time: `${hour.toString().padStart(2, '0')}:${min.toString().padStart(2, '0')}`,\r\n        hour,\r\n        min,\r\n      });\r\n    }\r\n  }\r\n  return slots;\r\n}\r\n\r\nfunction getMonthDays(year: number, month: number) {\r\n  const days = [];\r\n  const firstDay = new Date(year, month, 1);\r\n  const lastDay = new Date(year, month + 1, 0);\r\n  // Fill in blanks for the first week\r\n  for (let i = 0; i < firstDay.getDay(); i++) {\r\n    days.push(null);\r\n  }\r\n  for (let d = 1; d <= lastDay.getDate(); d++) {\r\n    days.push(new Date(year, month, d));\r\n  }\r\n  return days;\r\n}\r\n\r\nconst CustomCalendar = ({\r\n  userType,\r\n  appointmentType,\r\n  onBookingConfirmed,\r\n}: {\r\n  userType: 'new' | 'returning';\r\n  appointmentType: string;\r\n  onBookingConfirmed: (details: any) => void;\r\n}) => {\r\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null);\r\n  const [selectedSlot, setSelectedSlot] = useState<any>(null);\r\n  const [selectedProvider, setSelectedProvider] = useState<number | null>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [form, setForm] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    address: '',\r\n    city: '',\r\n    state: '',\r\n    zipcode: '',\r\n    card: '',\r\n    expMonth: '',\r\n    expYear: '',\r\n    cvv: '',\r\n  });\r\n  const [bookingSuccess, setBookingSuccess] = useState(false);\r\n  const [month, setMonth] = useState<number>(new Date().getMonth());\r\n  const [year, setYear] = useState<number>(new Date().getFullYear());\r\n\r\n  const cardType = detectCardType(form.card);\r\n  const cardInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Mocked provider logic\r\n  function getAvailableProviders(date: Date, slot: any) {\r\n    const day = date.getDay(); // 0=Sun, 1=Mon, ...\r\n    if (userType === 'new') {\r\n      return [PROVIDERS[0]]; // Provider 1\r\n    }\r\n    if (appointmentType === 'hormone' || appointmentType === 'sexual') {\r\n      return [PROVIDERS[0]]; // Provider 1\r\n    }\r\n    if (appointmentType === 'weightloss') {\r\n      if (day === 2) return [PROVIDERS[1], PROVIDERS[2]]; // Tue: Provider 2 & 3\r\n      if (day === 4) return [PROVIDERS[2]]; // Thu: Provider 3\r\n      return []; // No providers other days\r\n    }\r\n    return [];\r\n  }\r\n\r\n  function handleSlotSelect(slot: any) {\r\n    setSelectedSlot(slot);\r\n    const providers = getAvailableProviders(selectedDate!, slot);\r\n    if (providers.length === 1) {\r\n      setSelectedProvider(providers[0].id);\r\n      setShowModal(true);\r\n    } else if (providers.length > 1) {\r\n      setSelectedProvider(null);\r\n    }\r\n  }\r\n\r\n  function handleProviderSelect(id: number) {\r\n    setSelectedProvider(id);\r\n    setShowModal(true);\r\n  }\r\n\r\n  function handleConfirmBooking() {\r\n    setBookingSuccess(true);\r\n    setTimeout(() => {\r\n      onBookingConfirmed({\r\n        date: selectedDate,\r\n        slot: selectedSlot,\r\n        provider: selectedProvider,\r\n        form,\r\n      });\r\n    }, 1000);\r\n  }\r\n\r\n  // Mocked slots\r\n  const duration = userType === 'new' ? 90 : 40;\r\n  const slots = getSlots(duration);\r\n  const days = getMonthDays(year, month);\r\n  const today = new Date();\r\n\r\n  function isPastDay(day: Date | null) {\r\n    if (!day) return true;\r\n    return day.setHours(0,0,0,0) < today.setHours(0,0,0,0);\r\n  }\r\n\r\n  function nextMonth() {\r\n    if (month === 11) {\r\n      setMonth(0);\r\n      setYear(year + 1);\r\n    } else {\r\n      setMonth(month + 1);\r\n    }\r\n    setSelectedDate(null);\r\n    setSelectedSlot(null);\r\n  }\r\n  function prevMonth() {\r\n    if (month === 0) {\r\n      setMonth(11);\r\n      setYear(year - 1);\r\n    } else {\r\n      setMonth(month - 1);\r\n    }\r\n    setSelectedDate(null);\r\n    setSelectedSlot(null);\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full max-w-lg mx-auto p-4 bg-white rounded-2xl shadow-2xl border border-gray-100 flex flex-col\">\r\n      <h2 className=\"text-xl font-bold mb-4 text-center text-gray-800\">Select a Date and Time</h2>\r\n      {/* Calendar grid */}\r\n      <div className=\"flex items-center justify-between mb-2\">\r\n        <button onClick={prevMonth} className=\"px-2 py-1 rounded hover:bg-gray-200\">&lt;</button>\r\n        <span className=\"font-semibold\">{new Date(year, month).toLocaleString('en-US', { month: 'long', year: 'numeric' })}</span>\r\n        <button onClick={nextMonth} className=\"px-2 py-1 rounded hover:bg-gray-200\">&gt;</button>\r\n      </div>\r\n      <div className=\"grid grid-cols-7 gap-1 mb-2 text-center text-xs text-gray-500\">\r\n        {['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].map(d => <div key={d}>{d}</div>)}\r\n      </div>\r\n      <div className=\"grid grid-cols-7 gap-1 mb-4\">\r\n        {days.map((day, i) => (\r\n          <button\r\n            key={i}\r\n            disabled={!day || isPastDay(day)}\r\n            className={`aspect-square rounded-lg text-sm font-medium flex items-center justify-center\r\n              ${day && selectedDate && day.toDateString() === selectedDate.toDateString() ? 'bg-blue-200 text-blue-900' : 'bg-gray-100 text-gray-700'}\r\n              ${!day || isPastDay(day) ? 'opacity-40 cursor-not-allowed' : 'hover:bg-blue-100'}`}\r\n            onClick={() => day && !isPastDay(day) && setSelectedDate(day)}\r\n          >\r\n            {day ? day.getDate() : ''}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      {/* Time slots */}\r\n      {selectedDate && (\r\n        <>\r\n          <div className=\"mb-2 text-center text-gray-700 font-semibold\">Available Times</div>\r\n          <div className=\"flex flex-wrap gap-2 justify-center mb-4\">\r\n            {slots.map((slot, i) => (\r\n              <button\r\n                key={i}\r\n                className={`px-3 py-2 rounded-lg text-sm font-medium ${selectedSlot === slot ? 'bg-blue-400 text-white' : 'bg-gray-100 text-gray-700'} hover:bg-blue-200`}\r\n                onClick={() => handleSlotSelect(slot)}\r\n              >\r\n                {slot.time}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n      {/* Provider selection if needed */}\r\n      {selectedDate && selectedSlot && getAvailableProviders(selectedDate, selectedSlot).length > 1 && (\r\n        <div className=\"mb-4\">\r\n          <div className=\"mb-2 text-center text-gray-700 font-semibold\">Select Provider</div>\r\n          <div className=\"flex flex-wrap gap-2 justify-center\">\r\n            {getAvailableProviders(selectedDate, selectedSlot).map((p) => (\r\n              <button\r\n                key={p.id}\r\n                className={`px-3 py-2 rounded-lg text-sm font-medium ${selectedProvider === p.id ? 'bg-blue-400 text-white' : 'bg-gray-100 text-gray-700'} hover:bg-blue-200`}\r\n                onClick={() => handleProviderSelect(p.id)}\r\n              >\r\n                {p.name}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Modal for new patient details */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-2xl max-w-md mx-2 p-6 shadow-2xl border border-gray-100\">\r\n            {userType === 'new' ? (\r\n              <>\r\n                <h3 className=\"text-lg font-bold mb-2\">Confirm Your Details</h3>\r\n                <div className=\"grid grid-cols-1 gap-2 mb-2\">\r\n                  {/* Address Autocomplete Placeholder - Integrate Google Places or Algolia Places here */}\r\n                  <input\r\n                    className=\"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\"\r\n                    placeholder=\"First Name\"\r\n                    value={form.firstName}\r\n                    onChange={e => setForm(f => ({ ...f, firstName: e.target.value }))}\r\n                  />\r\n                  <div\r\n                    className={`transition-all duration-300 overflow-hidden ${form.firstName ? 'max-h-32 opacity-100' : 'max-h-0 opacity-0'}`}\r\n                  >\r\n                    <input\r\n                      className=\"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition mt-2\"\r\n                      placeholder=\"Last Name\"\r\n                      value={form.lastName}\r\n                      onChange={e => setForm(f => ({ ...f, lastName: e.target.value }))}\r\n                    />\r\n                  </div>\r\n                  <input\r\n                    className=\"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\"\r\n                    placeholder=\"Address (Start typing...)\"\r\n                    value={form.address}\r\n                    onChange={e => setForm(f => ({ ...f, address: e.target.value }))}\r\n                  />\r\n                  {/* TODO: Show address suggestions dropdown here and auto-fill city/state/zip on select */}\r\n                  <input\r\n                    className=\"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\"\r\n                    placeholder=\"City\"\r\n                    value={form.city}\r\n                    onChange={e => setForm(f => ({ ...f, city: e.target.value }))}\r\n                  />\r\n                  <input\r\n                    className=\"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\"\r\n                    placeholder=\"State\"\r\n                    value={form.state}\r\n                    onChange={e => setForm(f => ({ ...f, state: e.target.value }))}\r\n                  />\r\n                  <input\r\n                    className=\"rounded-lg shadow-sm px-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\"\r\n                    placeholder=\"Zipcode\"\r\n                    value={form.zipcode}\r\n                    onChange={e => setForm(f => ({ ...f, zipcode: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-2 font-semibold\">Payment Details</div>\r\n                <div className=\"relative mb-2\">\r\n                  {cardType && (\r\n                    <img\r\n                      src={cardType.logo}\r\n                      alt={cardType.name}\r\n                      className=\"absolute left-2 top-1/2 -translate-y-1/2 h-6 w-8 object-contain transition-all duration-300 opacity-100\"\r\n                      style={{ animation: 'fadeInLeft 0.3s' }}\r\n                    />\r\n                  )}\r\n                  <input\r\n                    ref={cardInputRef}\r\n                    className={`w-full rounded-lg shadow-sm pl-12 pr-4 py-2 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition font-mono tracking-widest`}\r\n                    placeholder=\"Card Number\"\r\n                    value={formatCardNumber(form.card, cardType)}\r\n                    onChange={e => {\r\n                      const raw = e.target.value.replace(/\\D/g, '');\r\n                      setForm(f => ({ ...f, card: raw }));\r\n                    }}\r\n                    maxLength={cardType && cardType.name === 'Amex' ? 15 : 16}\r\n                    inputMode=\"numeric\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex gap-2 mb-2\">\r\n                  <select\r\n                    className=\"rounded-lg shadow-sm px-2 py-2 flex-1 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\"\r\n                    value={form.expMonth}\r\n                    onChange={e => setForm(f => ({ ...f, expMonth: e.target.value }))}\r\n                  >\r\n                    <option value=\"\">MM</option>\r\n                    {[...Array(12)].map((_, i) => (\r\n                      <option key={i+1} value={String(i+1).padStart(2, '0')}>{String(i+1).padStart(2, '0')}</option>\r\n                    ))}\r\n                  </select>\r\n                  <select\r\n                    className=\"rounded-lg shadow-sm px-2 py-2 flex-1 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\"\r\n                    value={form.expYear}\r\n                    onChange={e => setForm(f => ({ ...f, expYear: e.target.value }))}\r\n                  >\r\n                    <option value=\"\">YYYY</option>\r\n                    {[...Array(12)].map((_, i) => {\r\n                      const year = new Date().getFullYear() + i;\r\n                      return <option key={year} value={year}>{year}</option>;\r\n                    })}\r\n                  </select>\r\n                  <input\r\n                    className=\"rounded-lg shadow-sm px-4 py-2 flex-1 bg-gray-50 focus:ring-2 focus:ring-pink-200 focus:outline-none transition\"\r\n                    placeholder=\"CVV\"\r\n                    value={form.cvv}\r\n                    onChange={e => setForm(f => ({ ...f, cvv: e.target.value }))}\r\n                    maxLength={4}\r\n                    inputMode=\"numeric\"\r\n                    type=\"password\"\r\n                  />\r\n                </div>\r\n                <button\r\n                  className=\"w-full py-2 bg-pink-200 hover:bg-pink-300 text-gray-800 rounded-lg font-semibold mt-2 transition active:scale-95 focus:scale-95 focus:ring-2 focus:ring-pink-300\"\r\n                  onClick={handleConfirmBooking}\r\n                >\r\n                  Confirm Booking\r\n                </button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <h3 className=\"text-lg font-bold mb-4\">Confirm Card on File</h3>\r\n                <button\r\n                  className=\"w-full py-2 bg-pink-200 hover:bg-pink-300 text-gray-800 rounded-lg font-semibold mt-2 transition\"\r\n                  onClick={handleConfirmBooking}\r\n                >\r\n                  Confirm Booking\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Success message */}\r\n      {bookingSuccess && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-xl p-6 w-full max-w-sm shadow-xl text-center\">\r\n            <h3 className=\"text-lg font-bold mb-2\">Booking Confirmed!</h3>\r\n            <p className=\"mb-2\">Your appointment has been booked.</p>\r\n            <button\r\n              className=\"w-full py-2 bg-pink-200 hover:bg-pink-300 text-gray-800 rounded-lg font-semibold mt-2 transition\"\r\n              onClick={() => setBookingSuccess(false)}\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Button click feedback for all buttons */}\r\n      <style>{`\r\n        button:active, button:focus { outline: none; }\r\n        @keyframes fadeInLeft { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: none; } }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomCalendar; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEhD,MAAMC,SAAS,GAAG,CAChB;EAAEC,EAAE,EAAE,CAAC;EAAEC,IAAI,EAAE;AAAa,CAAC,EAC7B;EAAED,EAAE,EAAE,CAAC;EAAEC,IAAI,EAAE;AAAa,CAAC,EAC7B;EAAED,EAAE,EAAE,CAAC;EAAEC,IAAI,EAAE;AAAa,CAAC,CAC9B;AAED,MAAMC,iBAAiB,GAAG,CACxB;EAAEC,GAAG,EAAE,SAAS;EAAEC,KAAK,EAAE;AAAU,CAAC,EACpC;EAAED,GAAG,EAAE,QAAQ;EAAEC,KAAK,EAAE;AAAkB,CAAC,EAC3C;EAAED,GAAG,EAAE,YAAY;EAAEC,KAAK,EAAE;AAAc,CAAC,CAC5C;AAED,MAAMC,cAAc,GAAG;EAAEC,KAAK,EAAE,CAAC;EAAEC,GAAG,EAAE;AAAG,CAAC,CAAC,CAAC;AAC9C,MAAMC,aAAa,GAAG,EAAE,CAAC,CAAC;AAC1B,MAAMC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;;AAEvB;AACA,MAAMC,UAAU,GAAG,CACjB;EAAET,IAAI,EAAE,MAAM;EAAEU,KAAK,EAAE,IAAI;EAAEC,IAAI,EAAE,iDAAiD;EAAEC,MAAM,EAAE,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC;AAAE,CAAC,EACzG;EAAEZ,IAAI,EAAE,YAAY;EAAEU,KAAK,EAAE,SAAS;EAAEC,IAAI,EAAE,4DAA4D;EAAEC,MAAM,EAAE,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC;AAAE,CAAC,EAC/H;EAAEZ,IAAI,EAAE,MAAM;EAAEU,KAAK,EAAE,QAAQ;EAAEC,IAAI,EAAE,iDAAiD;EAAEC,MAAM,EAAE,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC;AAAE,CAAC,CAC5G;AAED,SAASC,cAAcA,CAACC,IAAY,EAAE;EACpC,KAAK,MAAMC,IAAI,IAAIN,UAAU,EAAE;IAC7B,IAAIM,IAAI,CAACL,KAAK,CAACM,IAAI,CAACF,IAAI,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,OAAOF,IAAI;EAC3D;EACA,OAAO,IAAI;AACb;AAEA,SAASG,gBAAgBA,CAACJ,IAAY,EAAEC,IAAS,EAAE;EACjD,MAAMI,MAAM,GAAGL,IAAI,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EACtC,IAAI,CAACF,IAAI,EAAE,OAAOI,MAAM,CAACF,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAACG,IAAI,CAAC,CAAC;EACzD,IAAIC,KAAK,GAAG,EAAE;EACd,IAAIC,GAAG,GAAG,CAAC;EACX,KAAK,MAAMC,GAAG,IAAIR,IAAI,CAACH,MAAM,EAAE;IAC7B,IAAIO,MAAM,CAACK,MAAM,GAAGF,GAAG,EAAE;MACvBD,KAAK,CAACI,IAAI,CAACN,MAAM,CAACO,MAAM,CAACJ,GAAG,EAAEC,GAAG,CAAC,CAAC;MACnCD,GAAG,IAAIC,GAAG;IACZ;EACF;EACA,OAAOF,KAAK,CAACM,IAAI,CAAC,GAAG,CAAC,CAACP,IAAI,CAAC,CAAC;AAC/B;AAEA,SAASQ,QAAQA,CAACC,QAAgB,EAAE;EAClC,MAAMC,KAAK,GAAG,EAAE;EAChB,KAAK,IAAIC,IAAI,GAAG3B,cAAc,CAACC,KAAK,EAAE0B,IAAI,GAAG3B,cAAc,CAACE,GAAG,EAAEyB,IAAI,EAAE,EAAE;IACvE,KAAK,IAAIC,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAG,EAAE,EAAEA,GAAG,IAAIzB,aAAa,EAAE;MAChDuB,KAAK,CAACL,IAAI,CAAC;QACTQ,IAAI,EAAE,GAAGF,IAAI,CAACG,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIH,GAAG,CAACE,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;QAC9EJ,IAAI;QACJC;MACF,CAAC,CAAC;IACJ;EACF;EACA,OAAOF,KAAK;AACd;AAEA,SAASM,YAAYA,CAACC,IAAY,EAAEC,KAAa,EAAE;EACjD,MAAMC,IAAI,GAAG,EAAE;EACf,MAAMC,QAAQ,GAAG,IAAIC,IAAI,CAACJ,IAAI,EAAEC,KAAK,EAAE,CAAC,CAAC;EACzC,MAAMI,OAAO,GAAG,IAAID,IAAI,CAACJ,IAAI,EAAEC,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC;EAC5C;EACA,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,QAAQ,CAACI,MAAM,CAAC,CAAC,EAAED,CAAC,EAAE,EAAE;IAC1CJ,IAAI,CAACd,IAAI,CAAC,IAAI,CAAC;EACjB;EACA,KAAK,IAAIoB,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIH,OAAO,CAACI,OAAO,CAAC,CAAC,EAAED,CAAC,EAAE,EAAE;IAC3CN,IAAI,CAACd,IAAI,CAAC,IAAIgB,IAAI,CAACJ,IAAI,EAAEC,KAAK,EAAEO,CAAC,CAAC,CAAC;EACrC;EACA,OAAON,IAAI;AACb;AAEA,MAAMQ,cAAc,GAAGA,CAAC;EACtBC,QAAQ;EACRC,eAAe;EACfC;AAKF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAG7D,QAAQ,CAAc,IAAI,CAAC;EACnE,MAAM,CAAC8D,YAAY,EAAEC,eAAe,CAAC,GAAG/D,QAAQ,CAAM,IAAI,CAAC;EAC3D,MAAM,CAACgE,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGjE,QAAQ,CAAgB,IAAI,CAAC;EAC7E,MAAM,CAACkE,SAAS,EAAEC,YAAY,CAAC,GAAGnE,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACoE,IAAI,EAAEC,OAAO,CAAC,GAAGrE,QAAQ,CAAC;IAC/BsE,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,EAAE;IACTC,OAAO,EAAE,EAAE;IACXrD,IAAI,EAAE,EAAE;IACRsD,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,GAAG,EAAE;EACP,CAAC,CAAC;EACF,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGhF,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAAC8C,KAAK,EAAEmC,QAAQ,CAAC,GAAGjF,QAAQ,CAAS,IAAIiD,IAAI,CAAC,CAAC,CAACiC,QAAQ,CAAC,CAAC,CAAC;EACjE,MAAM,CAACrC,IAAI,EAAEsC,OAAO,CAAC,GAAGnF,QAAQ,CAAS,IAAIiD,IAAI,CAAC,CAAC,CAACmC,WAAW,CAAC,CAAC,CAAC;EAElE,MAAMC,QAAQ,GAAGhE,cAAc,CAAC+C,IAAI,CAAC9C,IAAI,CAAC;EAC1C,MAAMgE,YAAY,GAAGrF,MAAM,CAAmB,IAAI,CAAC;;EAEnD;EACA,SAASsF,qBAAqBA,CAACC,IAAU,EAAEC,IAAS,EAAE;IACpD,MAAMC,GAAG,GAAGF,IAAI,CAACpC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC3B,IAAII,QAAQ,KAAK,KAAK,EAAE;MACtB,OAAO,CAAClD,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB;IACA,IAAImD,eAAe,KAAK,SAAS,IAAIA,eAAe,KAAK,QAAQ,EAAE;MACjE,OAAO,CAACnD,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB;IACA,IAAImD,eAAe,KAAK,YAAY,EAAE;MACpC,IAAIiC,GAAG,KAAK,CAAC,EAAE,OAAO,CAACpF,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpD,IAAIoF,GAAG,KAAK,CAAC,EAAE,OAAO,CAACpF,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtC,OAAO,EAAE,CAAC,CAAC;IACb;IACA,OAAO,EAAE;EACX;EAEA,SAASqF,gBAAgBA,CAACF,IAAS,EAAE;IACnC1B,eAAe,CAAC0B,IAAI,CAAC;IACrB,MAAMG,SAAS,GAAGL,qBAAqB,CAAC3B,YAAY,EAAG6B,IAAI,CAAC;IAC5D,IAAIG,SAAS,CAAC5D,MAAM,KAAK,CAAC,EAAE;MAC1BiC,mBAAmB,CAAC2B,SAAS,CAAC,CAAC,CAAC,CAACrF,EAAE,CAAC;MACpC4D,YAAY,CAAC,IAAI,CAAC;IACpB,CAAC,MAAM,IAAIyB,SAAS,CAAC5D,MAAM,GAAG,CAAC,EAAE;MAC/BiC,mBAAmB,CAAC,IAAI,CAAC;IAC3B;EACF;EAEA,SAAS4B,oBAAoBA,CAACtF,EAAU,EAAE;IACxC0D,mBAAmB,CAAC1D,EAAE,CAAC;IACvB4D,YAAY,CAAC,IAAI,CAAC;EACpB;EAEA,SAAS2B,oBAAoBA,CAAA,EAAG;IAC9Bd,iBAAiB,CAAC,IAAI,CAAC;IACvBe,UAAU,CAAC,MAAM;MACfrC,kBAAkB,CAAC;QACjB8B,IAAI,EAAE5B,YAAY;QAClB6B,IAAI,EAAE3B,YAAY;QAClBkC,QAAQ,EAAEhC,gBAAgB;QAC1BI;MACF,CAAC,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC;EACV;;EAEA;EACA,MAAM/B,QAAQ,GAAGmB,QAAQ,KAAK,KAAK,GAAG,EAAE,GAAG,EAAE;EAC7C,MAAMlB,KAAK,GAAGF,QAAQ,CAACC,QAAQ,CAAC;EAChC,MAAMU,IAAI,GAAGH,YAAY,CAACC,IAAI,EAAEC,KAAK,CAAC;EACtC,MAAMmD,KAAK,GAAG,IAAIhD,IAAI,CAAC,CAAC;EAExB,SAASiD,SAASA,CAACR,GAAgB,EAAE;IACnC,IAAI,CAACA,GAAG,EAAE,OAAO,IAAI;IACrB,OAAOA,GAAG,CAACS,QAAQ,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,GAAGF,KAAK,CAACE,QAAQ,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;EACxD;EAEA,SAASC,SAASA,CAAA,EAAG;IACnB,IAAItD,KAAK,KAAK,EAAE,EAAE;MAChBmC,QAAQ,CAAC,CAAC,CAAC;MACXE,OAAO,CAACtC,IAAI,GAAG,CAAC,CAAC;IACnB,CAAC,MAAM;MACLoC,QAAQ,CAACnC,KAAK,GAAG,CAAC,CAAC;IACrB;IACAe,eAAe,CAAC,IAAI,CAAC;IACrBE,eAAe,CAAC,IAAI,CAAC;EACvB;EACA,SAASsC,SAASA,CAAA,EAAG;IACnB,IAAIvD,KAAK,KAAK,CAAC,EAAE;MACfmC,QAAQ,CAAC,EAAE,CAAC;MACZE,OAAO,CAACtC,IAAI,GAAG,CAAC,CAAC;IACnB,CAAC,MAAM;MACLoC,QAAQ,CAACnC,KAAK,GAAG,CAAC,CAAC;IACrB;IACAe,eAAe,CAAC,IAAI,CAAC;IACrBE,eAAe,CAAC,IAAI,CAAC;EACvB;EAEA,oBACE5D,OAAA;IAAKmG,SAAS,EAAC,kGAAkG;IAAAC,QAAA,gBAC/GpG,OAAA;MAAImG,SAAS,EAAC,kDAAkD;MAAAC,QAAA,EAAC;IAAsB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAE5FxG,OAAA;MAAKmG,SAAS,EAAC,wCAAwC;MAAAC,QAAA,gBACrDpG,OAAA;QAAQyG,OAAO,EAAEP,SAAU;QAACC,SAAS,EAAC,qCAAqC;QAAAC,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACzFxG,OAAA;QAAMmG,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAE,IAAItD,IAAI,CAACJ,IAAI,EAAEC,KAAK,CAAC,CAAC+D,cAAc,CAAC,OAAO,EAAE;UAAE/D,KAAK,EAAE,MAAM;UAAED,IAAI,EAAE;QAAU,CAAC;MAAC;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC1HxG,OAAA;QAAQyG,OAAO,EAAER,SAAU;QAACE,SAAS,EAAC,qCAAqC;QAAAC,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtF,CAAC,eACNxG,OAAA;MAAKmG,SAAS,EAAC,+DAA+D;MAAAC,QAAA,EAC3E,CAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,CAAC,CAACO,GAAG,CAACzD,CAAC,iBAAIlD,OAAA;QAAAoG,QAAA,EAAclD;MAAC,GAALA,CAAC;QAAAmD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAU,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1E,CAAC,eACNxG,OAAA;MAAKmG,SAAS,EAAC,6BAA6B;MAAAC,QAAA,EACzCxD,IAAI,CAAC+D,GAAG,CAAC,CAACpB,GAAG,EAAEvC,CAAC,kBACfhD,OAAA;QAEE4G,QAAQ,EAAE,CAACrB,GAAG,IAAIQ,SAAS,CAACR,GAAG,CAAE;QACjCY,SAAS,EAAE;AACvB,gBAAgBZ,GAAG,IAAI9B,YAAY,IAAI8B,GAAG,CAACsB,YAAY,CAAC,CAAC,KAAKpD,YAAY,CAACoD,YAAY,CAAC,CAAC,GAAG,2BAA2B,GAAG,2BAA2B;AACrJ,gBAAgB,CAACtB,GAAG,IAAIQ,SAAS,CAACR,GAAG,CAAC,GAAG,+BAA+B,GAAG,mBAAmB,EAAG;QACrFkB,OAAO,EAAEA,CAAA,KAAMlB,GAAG,IAAI,CAACQ,SAAS,CAACR,GAAG,CAAC,IAAI7B,eAAe,CAAC6B,GAAG,CAAE;QAAAa,QAAA,EAE7Db,GAAG,GAAGA,GAAG,CAACpC,OAAO,CAAC,CAAC,GAAG;MAAE,GAPpBH,CAAC;QAAAqD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAQA,CACT;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAEL/C,YAAY,iBACXzD,OAAA,CAAAE,SAAA;MAAAkG,QAAA,gBACEpG,OAAA;QAAKmG,SAAS,EAAC,8CAA8C;QAAAC,QAAA,EAAC;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACnFxG,OAAA;QAAKmG,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EACtDjE,KAAK,CAACwE,GAAG,CAAC,CAACrB,IAAI,EAAEtC,CAAC,kBACjBhD,OAAA;UAEEmG,SAAS,EAAE,4CAA4CxC,YAAY,KAAK2B,IAAI,GAAG,wBAAwB,GAAG,2BAA2B,oBAAqB;UAC1JmB,OAAO,EAAEA,CAAA,KAAMjB,gBAAgB,CAACF,IAAI,CAAE;UAAAc,QAAA,EAErCd,IAAI,CAAChD;QAAI,GAJLU,CAAC;UAAAqD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAKA,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA,eACN,CACH,EAEA/C,YAAY,IAAIE,YAAY,IAAIyB,qBAAqB,CAAC3B,YAAY,EAAEE,YAAY,CAAC,CAAC9B,MAAM,GAAG,CAAC,iBAC3F7B,OAAA;MAAKmG,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnBpG,OAAA;QAAKmG,SAAS,EAAC,8CAA8C;QAAAC,QAAA,EAAC;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACnFxG,OAAA;QAAKmG,SAAS,EAAC,qCAAqC;QAAAC,QAAA,EACjDhB,qBAAqB,CAAC3B,YAAY,EAAEE,YAAY,CAAC,CAACgD,GAAG,CAAEG,CAAC,iBACvD9G,OAAA;UAEEmG,SAAS,EAAE,4CAA4CtC,gBAAgB,KAAKiD,CAAC,CAAC1G,EAAE,GAAG,wBAAwB,GAAG,2BAA2B,oBAAqB;UAC9JqG,OAAO,EAAEA,CAAA,KAAMf,oBAAoB,CAACoB,CAAC,CAAC1G,EAAE,CAAE;UAAAgG,QAAA,EAEzCU,CAAC,CAACzG;QAAI,GAJFyG,CAAC,CAAC1G,EAAE;UAAAiG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAKH,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEAzC,SAAS,iBACR/D,OAAA;MAAKmG,SAAS,EAAC,4EAA4E;MAAAC,QAAA,eACzFpG,OAAA;QAAKmG,SAAS,EAAC,0EAA0E;QAAAC,QAAA,EACtF/C,QAAQ,KAAK,KAAK,gBACjBrD,OAAA,CAAAE,SAAA;UAAAkG,QAAA,gBACEpG,OAAA;YAAImG,SAAS,EAAC,wBAAwB;YAAAC,QAAA,EAAC;UAAoB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChExG,OAAA;YAAKmG,SAAS,EAAC,6BAA6B;YAAAC,QAAA,gBAE1CpG,OAAA;cACEmG,SAAS,EAAC,0GAA0G;cACpHY,WAAW,EAAC,YAAY;cACxBC,KAAK,EAAE/C,IAAI,CAACE,SAAU;cACtB8C,QAAQ,EAAEC,CAAC,IAAIhD,OAAO,CAACiD,CAAC,KAAK;gBAAE,GAAGA,CAAC;gBAAEhD,SAAS,EAAE+C,CAAC,CAACE,MAAM,CAACJ;cAAM,CAAC,CAAC;YAAE;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpE,CAAC,eACFxG,OAAA;cACEmG,SAAS,EAAE,+CAA+ClC,IAAI,CAACE,SAAS,GAAG,sBAAsB,GAAG,mBAAmB,EAAG;cAAAiC,QAAA,eAE1HpG,OAAA;gBACEmG,SAAS,EAAC,+GAA+G;gBACzHY,WAAW,EAAC,WAAW;gBACvBC,KAAK,EAAE/C,IAAI,CAACG,QAAS;gBACrB6C,QAAQ,EAAEC,CAAC,IAAIhD,OAAO,CAACiD,CAAC,KAAK;kBAAE,GAAGA,CAAC;kBAAE/C,QAAQ,EAAE8C,CAAC,CAACE,MAAM,CAACJ;gBAAM,CAAC,CAAC;cAAE;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACNxG,OAAA;cACEmG,SAAS,EAAC,0GAA0G;cACpHY,WAAW,EAAC,2BAA2B;cACvCC,KAAK,EAAE/C,IAAI,CAACI,OAAQ;cACpB4C,QAAQ,EAAEC,CAAC,IAAIhD,OAAO,CAACiD,CAAC,KAAK;gBAAE,GAAGA,CAAC;gBAAE9C,OAAO,EAAE6C,CAAC,CAACE,MAAM,CAACJ;cAAM,CAAC,CAAC;YAAE;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClE,CAAC,eAEFxG,OAAA;cACEmG,SAAS,EAAC,0GAA0G;cACpHY,WAAW,EAAC,MAAM;cAClBC,KAAK,EAAE/C,IAAI,CAACK,IAAK;cACjB2C,QAAQ,EAAEC,CAAC,IAAIhD,OAAO,CAACiD,CAAC,KAAK;gBAAE,GAAGA,CAAC;gBAAE7C,IAAI,EAAE4C,CAAC,CAACE,MAAM,CAACJ;cAAM,CAAC,CAAC;YAAE;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/D,CAAC,eACFxG,OAAA;cACEmG,SAAS,EAAC,0GAA0G;cACpHY,WAAW,EAAC,OAAO;cACnBC,KAAK,EAAE/C,IAAI,CAACM,KAAM;cAClB0C,QAAQ,EAAEC,CAAC,IAAIhD,OAAO,CAACiD,CAAC,KAAK;gBAAE,GAAGA,CAAC;gBAAE5C,KAAK,EAAE2C,CAAC,CAACE,MAAM,CAACJ;cAAM,CAAC,CAAC;YAAE;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChE,CAAC,eACFxG,OAAA;cACEmG,SAAS,EAAC,0GAA0G;cACpHY,WAAW,EAAC,SAAS;cACrBC,KAAK,EAAE/C,IAAI,CAACO,OAAQ;cACpByC,QAAQ,EAAEC,CAAC,IAAIhD,OAAO,CAACiD,CAAC,KAAK;gBAAE,GAAGA,CAAC;gBAAE3C,OAAO,EAAE0C,CAAC,CAACE,MAAM,CAACJ;cAAM,CAAC,CAAC;YAAE;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNxG,OAAA;YAAKmG,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACzDxG,OAAA;YAAKmG,SAAS,EAAC,eAAe;YAAAC,QAAA,GAC3BlB,QAAQ,iBACPlF,OAAA;cACEqH,GAAG,EAAEnC,QAAQ,CAAClE,IAAK;cACnBsG,GAAG,EAAEpC,QAAQ,CAAC7E,IAAK;cACnB8F,SAAS,EAAC,yGAAyG;cACnHoB,KAAK,EAAE;gBAAEC,SAAS,EAAE;cAAkB;YAAE;cAAAnB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC,CACF,eACDxG,OAAA;cACEyH,GAAG,EAAEtC,YAAa;cAClBgB,SAAS,EAAE,iJAAkJ;cAC7JY,WAAW,EAAC,aAAa;cACzBC,KAAK,EAAEzF,gBAAgB,CAAC0C,IAAI,CAAC9C,IAAI,EAAE+D,QAAQ,CAAE;cAC7C+B,QAAQ,EAAEC,CAAC,IAAI;gBACb,MAAMQ,GAAG,GAAGR,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC1F,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;gBAC7C4C,OAAO,CAACiD,CAAC,KAAK;kBAAE,GAAGA,CAAC;kBAAEhG,IAAI,EAAEuG;gBAAI,CAAC,CAAC,CAAC;cACrC,CAAE;cACFC,SAAS,EAAEzC,QAAQ,IAAIA,QAAQ,CAAC7E,IAAI,KAAK,MAAM,GAAG,EAAE,GAAG,EAAG;cAC1DuH,SAAS,EAAC;YAAS;cAAAvB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNxG,OAAA;YAAKmG,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BpG,OAAA;cACEmG,SAAS,EAAC,iHAAiH;cAC3Ha,KAAK,EAAE/C,IAAI,CAACQ,QAAS;cACrBwC,QAAQ,EAAEC,CAAC,IAAIhD,OAAO,CAACiD,CAAC,KAAK;gBAAE,GAAGA,CAAC;gBAAE1C,QAAQ,EAAEyC,CAAC,CAACE,MAAM,CAACJ;cAAM,CAAC,CAAC,CAAE;cAAAZ,QAAA,gBAElEpG,OAAA;gBAAQgH,KAAK,EAAC,EAAE;gBAAAZ,QAAA,EAAC;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,EAC3B,CAAC,GAAGqB,KAAK,CAAC,EAAE,CAAC,CAAC,CAAClB,GAAG,CAAC,CAACmB,CAAC,EAAE9E,CAAC,kBACvBhD,OAAA;gBAAkBgH,KAAK,EAAEe,MAAM,CAAC/E,CAAC,GAAC,CAAC,CAAC,CAACR,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAE;gBAAA4D,QAAA,EAAE2B,MAAM,CAAC/E,CAAC,GAAC,CAAC,CAAC,CAACR,QAAQ,CAAC,CAAC,EAAE,GAAG;cAAC,GAAvEQ,CAAC,GAAC,CAAC;gBAAAqD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAA6E,CAC9F,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC,eACTxG,OAAA;cACEmG,SAAS,EAAC,iHAAiH;cAC3Ha,KAAK,EAAE/C,IAAI,CAACS,OAAQ;cACpBuC,QAAQ,EAAEC,CAAC,IAAIhD,OAAO,CAACiD,CAAC,KAAK;gBAAE,GAAGA,CAAC;gBAAEzC,OAAO,EAAEwC,CAAC,CAACE,MAAM,CAACJ;cAAM,CAAC,CAAC,CAAE;cAAAZ,QAAA,gBAEjEpG,OAAA;gBAAQgH,KAAK,EAAC,EAAE;gBAAAZ,QAAA,EAAC;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,EAC7B,CAAC,GAAGqB,KAAK,CAAC,EAAE,CAAC,CAAC,CAAClB,GAAG,CAAC,CAACmB,CAAC,EAAE9E,CAAC,KAAK;gBAC5B,MAAMN,IAAI,GAAG,IAAII,IAAI,CAAC,CAAC,CAACmC,WAAW,CAAC,CAAC,GAAGjC,CAAC;gBACzC,oBAAOhD,OAAA;kBAAmBgH,KAAK,EAAEtE,IAAK;kBAAA0D,QAAA,EAAE1D;gBAAI,GAAxBA,IAAI;kBAAA2D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAA6B,CAAC;cACxD,CAAC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC,eACTxG,OAAA;cACEmG,SAAS,EAAC,iHAAiH;cAC3HY,WAAW,EAAC,KAAK;cACjBC,KAAK,EAAE/C,IAAI,CAACU,GAAI;cAChBsC,QAAQ,EAAEC,CAAC,IAAIhD,OAAO,CAACiD,CAAC,KAAK;gBAAE,GAAGA,CAAC;gBAAExC,GAAG,EAAEuC,CAAC,CAACE,MAAM,CAACJ;cAAM,CAAC,CAAC,CAAE;cAC7DW,SAAS,EAAE,CAAE;cACbC,SAAS,EAAC,SAAS;cACnBxG,IAAI,EAAC;YAAU;cAAAiF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNxG,OAAA;YACEmG,SAAS,EAAC,kKAAkK;YAC5KM,OAAO,EAAEd,oBAAqB;YAAAS,QAAA,EAC/B;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,eACT,CAAC,gBAEHxG,OAAA,CAAAE,SAAA;UAAAkG,QAAA,gBACEpG,OAAA;YAAImG,SAAS,EAAC,wBAAwB;YAAAC,QAAA,EAAC;UAAoB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChExG,OAAA;YACEmG,SAAS,EAAC,kGAAkG;YAC5GM,OAAO,EAAEd,oBAAqB;YAAAS,QAAA,EAC/B;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,eACT;MACH;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEA5B,cAAc,iBACb5E,OAAA;MAAKmG,SAAS,EAAC,4EAA4E;MAAAC,QAAA,eACzFpG,OAAA;QAAKmG,SAAS,EAAC,+DAA+D;QAAAC,QAAA,gBAC5EpG,OAAA;UAAImG,SAAS,EAAC,wBAAwB;UAAAC,QAAA,EAAC;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9DxG,OAAA;UAAGmG,SAAS,EAAC,MAAM;UAAAC,QAAA,EAAC;QAAiC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACzDxG,OAAA;UACEmG,SAAS,EAAC,kGAAkG;UAC5GM,OAAO,EAAEA,CAAA,KAAM5B,iBAAiB,CAAC,KAAK,CAAE;UAAAuB,QAAA,EACzC;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAEDxG,OAAA;MAAAoG,QAAA,EAAQ;AACd;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAAChD,EAAA,CA9TIJ,cAAc;AAAA4E,EAAA,GAAd5E,cAAc;AAgUpB,eAAeA,cAAc;AAAC,IAAA4E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}